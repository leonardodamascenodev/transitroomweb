<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    
    <title>TransitRoom - Cadastro</title>

    <style>
        /* Se você tiver um arquivo style.css, mantenha o link dele no head. 
           Deixei o CSS básico aqui caso não carregue o externo */
        body { font-family: 'Manrope', sans-serif; }
        .bg-primary { background-color: #C2292F !important; } /* Ajuste conforme sua cor */
        .button-cadastro {
            margin-top: 30px;
            width: 100%;
            padding: 15px;
            background-color: white;
            color: #C2292F;
            border: none;
            font-weight: 800;
            font-size: 20px;
            border-radius: 10px;
            cursor: pointer;
        }
        .button-cadastro:hover { background-color: #f0f0f0; }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <nav class="nav w-full justify-content-between border border-3 p-2 px-5 py-3 rounded-4 mt-5 align-items-center"
                style="width: 100%; border-color:#C2292F !important;">
                <div class="logo gap-3 d-flex align-items-center">
                    <img src="Logo.png" alt="" style="width: 40px; height: 40px;" class="img-fluid">
                    <a href="index.html" style="text-decoration: none;">
                        <h1 style="font-family: Manrope; font-weight: 700; letter-spacing: -2px; color: #C2292F;" class=" mb-0">TransitRoom</h1>
                    </a>
                </div>
                <div class="d-flex items-center px-3">
                    <a href="#">
                        <img src="Senai.svg" alt="Senai" style="width: 170px;">
                    </a>
                </div>
            </nav>
        </div>
    </header>

    <h1 style="font-family: manrope; font-weight: 800; letter-spacing: -2px; color: #C2292F; margin-top: 60px; margin-bottom: 20px; display: flex; justify-content: center;">
        Dev! <span style="color: #E8A726;">Bora se cadastrar?</span>
    </h1>

    <div class="container bg-primary py-5 px-5" style="margin-top: 0; border-radius: 15px; max-width: 1200px;">
        
        <div class="cadastro">
            <div class="dados">
                <h3 style="font-family: manrope; font-weight: 800; font-size: 40px; letter-spacing: -2px; color: white;">Matrícula</h3>
            </div>
            <input type="text" id="matriculaInput" placeholder="Apenas números" style="height: 55px; font-size: 20px; width: 100%; display: flex;">
        </div>

        <div class="cadastro">
            <div class="dados">
                <h3 style="font-family: manrope; font-weight: 800; font-size: 40px; letter-spacing: -2px; margin-top: 25px; color: white;">Primeiro Nome</h3>
            </div>
            <input type="text" id="nomeInput" style="height: 55px; font-size: 20px; width: 100%; display: flex;">
        </div>

        <div class="cadastro">
            <div class="dados">
                <h3 style="font-family: manrope; font-weight: 800; font-size: 40px; letter-spacing: -2px; margin-top: 25px; color: white;">Turma</h3>
            </div>
            <input type="text" id="turmaInput" style="height: 55px; font-size: 20px; width: 100%; display: flex;">
        </div>

        <div class="cadastro">
            <div class="dados">
                <h3 style="font-family: manrope; font-weight: 800; font-size: 40px; letter-spacing: -2px; margin-top: 25px; color: white;">Senha</h3>
            </div>
            <input type="password" id="senhaInput" style="height: 55px; font-size: 20px; width: 100%; display: flex;">
        </div>

        <button id="btnCadastrar" class="button-cadastro">Cadastrar</button>
    </div>

    <footer class="" style="width: 100%; margin-top: 50px;">
        <div class="rodape d-flex justify-content-between align-items-center">
            <h3>Desenvolvido por Leonardo Damasceno <br> Todos os direitos reservados</h3>
            <img src="Logo2.png" alt="" width="45" height="45" class="img-fluid logo-rodape">
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            console.log("Script carregado! Procurando botão...");

            const btnCadastrar = document.getElementById("btnCadastrar");

            if (btnCadastrar) {
                console.log("Botão encontrado!");
                
                btnCadastrar.addEventListener("click", (event) => {
                    event.preventDefault(); // Impede recarregar a página

                    console.log("Botão clicado!");

                    // Pegando os valores pelos IDs que criamos lá em cima
                    const matricula = document.getElementById("matriculaInput").value.trim();
                    const nome = document.getElementById("nomeInput").value.trim();
                    const turma = document.getElementById("turmaInput").value.trim();
                    const senha = document.getElementById("senhaInput").value.trim();

                    console.log("Valores digitados:", { matricula, nome, turma, senha });

                    // Validação 1: Vazio
                    if (!matricula || !nome || !turma || !senha) {
                        alert("Por favor, preencha todos os campos!");
                        return;
                    }

                    // Validação 2: Matrícula Numérica
                    if (isNaN(matricula)) {
                        alert("A matrícula deve conter apenas números.");
                        return;
                    }

                    // Validação 3: Senha Curta
                    if (senha.length < 6) {
                        alert("A senha precisa ter pelo menos 6 caracteres.");
                        return;
                    }

                    // Criar Objeto
                    const dadosUsuario = {
                        matricula: matricula, 
                        senha: senha,
                        nome: nome,
                        turma: turma
                    };

                    // Salvar no navegador
                    localStorage.setItem("usuarioCadastrado", JSON.stringify(dadosUsuario));

                    // MENSAGEM NO CONSOLE
                    console.clear(); // Limpa consoles anteriores para focar neste
                    console.log("✅ CADASTRO REALIZADO COM SUCESSO!");
                    console.log("Dados salvos no LocalStorage:");
                    console.log(dadosUsuario);

                    alert("Cadastro realizado com sucesso! \nVeja o console (F12) para conferir os dados.");
                    
                    // Redireciona
                    window.location.href = 'index.html'; 
                });
            } else {
                console.error("ERRO: O botão com id='btnCadastrar' não foi encontrado no HTML.");
            }
        });
    </script>
</body>
</html>
